@page "/counter"

@using Microsoft.Extensions.Options
@using Volo.Abp.Http.Client
@using Volo.Abp.Identity
@using Volo.Abp.Application.Dtos
@using Volo.Abp.Users

@* @inject IIdentityUserAppService IdentityUserAppService *@
@inject IIdentityRoleAppService IdentityRoleAppService
@inject ICurrentUser CurrentUser

<h1>Hello, world!</h1>

<h2>List of the users:</h2>
@if (CurrentUser.IsAuthenticated)
{
    <div>basarili aq</div>
}

<ul>
    @foreach (var role in Roles.Items)
    {
        <li>@role.Name</li>
    }
</ul>


@code {
    // PagedResultDto<IdentityUserDto> Users { get; set; } = new PagedResultDto<IdentityUserDto>();
    ListResultDto<IdentityRoleDto> Roles { get; set; } = new ListResultDto<IdentityRoleDto>();

    protected override async Task OnInitializedAsync()
    {
        Roles = await IdentityRoleAppService.GetAllListAsync();
       
        // Users = await IdentityUserAppService.GetListAsync(new GetIdentityUsersInput());
    }

}